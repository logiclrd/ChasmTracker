using System;

using NUnit.Framework;

using FluentAssertions;

namespace ChasmTracker.Tests.Utility;

using ChasmTracker.Utility;

[TestFixture]
public class SpanExtensionsTests
{
	[Test]
	public void ExclusiveOr()
	{
		// Arrange
		byte[] x =
			{
				0x8B, 0xBE, 0xB4, 0xBA, 0x8B, 0xAD, 0xBE, 0xBC,
				0xB4, 0xBA, 0xAD, 0xBA, 0xBB, 0xFF, 0xA8, 0xB6,
				0xAB, 0xB7, 0xFF, 0xA9, 0xBA, 0xAD, 0xAC, 0xB6,
				0xB0, 0xB1, 0xFF, 0xEF, 0xF1, 0xE6, 0xBA, 0xFE,
				0xFE, 0xFE, 0xFE, 0xFE,
			};

		// Act
		x.AsSpan().ExclusiveOr(0xDF);

		// Assert
		x.ToStringZ().Should().Be("TakeTrackered with version 0.9e!!!!!");
	}
}
